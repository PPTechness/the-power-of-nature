<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn - Your Learning Journey | Harness the Power of Nature</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/tokens.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/widgets.css">
    <link rel="stylesheet" href="css/accessibility.css">
</head>
<body>
    <!-- Navigation Header -->
    <header class="nav-header">
        <div class="nav-container">
            <div class="nav-left">
                <a href="/" class="logo">
                    <div class="logo-icon">🌱</div>
                    <span>Nature Power</span>
                </a>
                <nav class="nav-links">
                    <a href="/learn.html" class="active">Learn</a>
                    <a href="/digital-citizenship.html">Digital Citizenship</a>
                    <a href="/build.html">Build</a>
                    <a href="/gallery.html">Gallery</a>
                    <a href="/teacher.html">Teacher Room</a>
                </nav>
            </div>
            <div class="nav-right">
                <div class="search-container">
                    <button class="search-toggle" aria-label="Search">🔍</button>
                    <input type="search" class="search-input" placeholder="Search..." aria-label="Search">
                </div>
                <div class="mode-toggle">
                    <button id="modeToggle" class="mode-btn">
                        <span class="mode-text">Student</span>
                        <div class="toggle-indicator"></div>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Learning Timeline -->
    <section class="learning-timeline">
        <div class="timeline-container">
            <div class="timeline-strip">
                <div class="timeline-step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">Weather Explorer</div>
                </div>
                <div class="timeline-step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">World Homes</div>
                </div>
                <div class="timeline-step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">Circuits</div>
                </div>
                <div class="timeline-step" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-label">Singapore Study</div>
                </div>
                <div class="timeline-step" data-step="5">
                    <div class="step-number">5</div>
                    <div class="step-label">Energy Arcade</div>
                </div>
                <div class="timeline-step" data-step="6">
                    <div class="step-number">6</div>
                    <div class="step-label">Earthquakes</div>
                </div>
                <div class="timeline-step" data-step="7">
                    <div class="step-number">7</div>
                    <div class="step-label">Design Home</div>
                </div>
                <div class="timeline-step" data-step="8">
                    <div class="step-number">8</div>
                    <div class="step-label">Share Ideas</div>
                </div>
            </div>
            <div class="timeline-tip">
                💡 Tip: Pause at check-ins to share what you've learned.
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main>
        <div class="container">
            <div class="page-intro">
                <h1>🚀 Your amazing learning journey!</h1>
                <p class="text-large">Hey, future scientist! 👋 Follow the fun steps below, pause to share your discoveries with friends, and build something absolutely brilliant! Each step is designed to help you become an expert on weather, climate, and amazing home design. 🏠✨</p>
            </div>

            <div class="learning-layout">
                <div class="learning-content">
                    
                    <!-- Step 1: Weather & Climate Explorer -->
                    <article class="learning-step" id="investigate">
                        <div class="step-header">
                            <div class="step-badge">Step 1</div>
                            <div class="step-meta">
                                <h2 class="step-title">🌤️ Weather & Climate Explorer</h2>
                                <div class="step-time">⏱️ 25–30 minutes</div>
                                <div class="step-goal">🎯 Your mission: Explain the difference between weather and climate using a real example from your exploration!</div>
                            </div>
                        </div>

                        <div class="step-content">
                            <h3>🌍 Understanding Weather vs Climate</h3>
                            <p><strong>Weather</strong> is what's happening outside <em>right now</em> - is it sunny, rainy, windy, hot, or cold today? 🌤️</p>
                            <p><strong>Climate</strong> is what the weather is <em>usually like</em> in a place over many years. Like how Singapore is always warm and humid! 🌴</p>
                            
                            <div class="step-prompt">
                                🔍 Your detective mission: Pick two places from around the world and become a weather detective! What's similar about them? What's different?
                            </div>

                            <div class="step-widget" id="weatherExplorer">
                                <div class="widget-header">
                                    <h4>🌏 Interactive Place Comparison Tool</h4>
                                    <div class="glossary-buttons">
                                        <button class="glossary-btn" data-term="weather">🌤️ Weather ❓</button>
                                        <button class="glossary-btn" data-term="climate">🌍 Climate ❓</button>
                                        <button class="glossary-btn" data-term="precipitation">💧 Precipitation ❓</button>
                                    </div>
                                </div>
                                
                                <div class="place-selectors">
                                    <div class="place-selector">
                                        <label for="place1">🌍 Pick your first place to explore:</label>
                                        <select id="place1" class="place-dropdown">
                                            <option value="">Choose a place to start your adventure...</option>
                                            <option value="singapore">🇸🇬 Singapore (Hot & Humid)</option>
                                            <option value="london">🇬🇧 London (Cool & Rainy)</option>
                                            <option value="cairo">🇪🇬 Cairo (Hot & Dry)</option>
                                            <option value="stockholm">🇸🇪 Stockholm (Cold & Snowy)</option>
                                        </select>
                                    </div>
                                    <div class="place-selector">
                                        <label for="place2">🌎 Pick your second place to compare:</label>
                                        <select id="place2" class="place-dropdown">
                                            <option value="">Choose another place to compare...</option>
                                            <option value="singapore">🇸🇬 Singapore (Hot & Humid)</option>
                                            <option value="london">🇬🇧 London (Cool & Rainy)</option>
                                            <option value="cairo">🇪🇬 Cairo (Hot & Dry)</option>
                                            <option value="stockholm">🇸🇪 Stockholm (Cold & Snowy)</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="weather-charts" id="weatherCharts">
                                    <!-- Charts will be populated by JavaScript -->
                                </div>

                                <div class="fact-inputs">
                                    <h4>📝 Record your amazing discoveries!</h4>
                                    <p style="color: var(--text-secondary); margin-bottom: 1rem;">What did you notice about these two places? Write down two interesting facts you discovered!</p>
                                    <div class="fact-input-group">
                                        <label for="fact1">🔍 Discovery #1:</label>
                                        <input type="text" id="fact1" placeholder="I discovered that [place] is different from [place] because..." maxlength="100">
                                    </div>
                                    <div class="fact-input-group">
                                        <label for="fact2">💡 Discovery #2:</label>
                                        <input type="text" id="fact2" placeholder="Something interesting I noticed is..." maxlength="100">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="step-actions">
                            <button class="btn btn-accent" id="saveFactsBtn">📝 Save my discoveries to Journal!</button>
                        </div>

                        <div class="offline-activity">
                            <h4>🌟 Real-world experiment!</h4>
                            <p>Time for some hands-on science! Go outside and stand in a shaded spot, then move to a sunny spot. How do you feel? Record whether it's cooler or warmer in your notebook. This is real climate science! 🌡️</p>
                        </div>
                    </article>

                    <!-- Step 2: Homes Around the World -->
                    <article class="learning-step">
                        <div class="step-header">
                            <div class="step-badge">Step 2</div>
                            <div class="step-meta">
                                <h2 class="step-title">Homes Around the World</h2>
                                <div class="step-time">⏱️ 25–30 min</div>
                                <div class="step-goal">Learning goal: Explain how a home's design can fit its climate.</div>
                            </div>
                        </div>

                        <div class="step-content">
                            <h3>Why do homes look different?</h3>
                            
                            <div class="step-prompt">
                                Match the feature to the home. Then reveal the 'why'.
                            </div>

                            <div class="step-widget" id="housesWidget">
                                <div class="houses-gallery">
                                    <div class="house-card" data-house="tropical">
                                        <div class="house-image">
                                            <div class="house-illustration tropical-house">
                                                <div class="roof stilts"></div>
                                                <div class="walls open-sides"></div>
                                                <div class="foundation raised"></div>
                                                <div class="feature-tags">
                                                    <span class="tag">Raised floor</span>
                                                    <span class="tag">Open walls</span>
                                                    <span class="tag">Steep roof</span>
                                                </div>
                                            </div>
                                        </div>
                                        <h4>Tropical House</h4>
                                        <div class="drop-zones">
                                            <div class="drop-zone" data-feature="ventilation">Drop feature here</div>
                                        </div>
                                    </div>

                                    <div class="house-card" data-house="arctic">
                                        <div class="house-image">
                                            <div class="house-illustration arctic-house">
                                                <div class="roof thick-insulation"></div>
                                                <div class="walls thick-walls"></div>
                                                <div class="windows small"></div>
                                                <div class="feature-tags">
                                                    <span class="tag">Thick walls</span>
                                                    <span class="tag">Small windows</span>
                                                    <span class="tag">Insulation</span>
                                                </div>
                                            </div>
                                        </div>
                                        <h4>Arctic House</h4>
                                        <div class="drop-zones">
                                            <div class="drop-zone" data-feature="insulation">Drop feature here</div>
                                        </div>
                                    </div>

                                    <div class="house-card" data-house="desert">
                                        <div class="house-image">
                                            <div class="house-illustration desert-house">
                                                <div class="roof flat-roof"></div>
                                                <div class="walls thick-adobe"></div>
                                                <div class="courtyard central"></div>
                                                <div class="feature-tags">
                                                    <span class="tag">Thick adobe</span>
                                                    <span class="tag">Flat roof</span>
                                                    <span class="tag">Courtyard</span>
                                                </div>
                                            </div>
                                        </div>
                                        <h4>Desert House</h4>
                                        <div class="drop-zones">
                                            <div class="drop-zone" data-feature="thermal-mass">Drop feature here</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="feature-cards">
                                    <div class="feature-card draggable" data-feature="ventilation">
                                        <span class="feature-icon">💨</span>
                                        <span class="feature-name">Good Ventilation</span>
                                    </div>
                                    <div class="feature-card draggable" data-feature="insulation">
                                        <span class="feature-icon">🧥</span>
                                        <span class="feature-name">Heavy Insulation</span>
                                    </div>
                                    <div class="feature-card draggable" data-feature="thermal-mass">
                                        <span class="feature-icon">🧱</span>
                                        <span class="feature-name">Thermal Mass</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="step-actions">
                            <button class="btn btn-primary" id="revealReasonsBtn">Reveal the reasons</button>
                        </div>

                        <div class="offline-activity">
                            <h4>Offline Activity</h4>
                            <p>Sketch your home. Circle one feature that helps in your climate.</p>
                        </div>
                    </article>

                    <!-- Step 3: Circuits Sandbox -->
                    <article class="learning-step">
                        <div class="step-header">
                            <div class="step-badge">Step 3</div>
                            <div class="step-meta">
                                <h2 class="step-title">Circuits Sandbox</h2>
                                <div class="step-time">⏱️ 20–30 min</div>
                                <div class="step-goal">Learning goal: Build a simple circuit with a cell, wires, lamp, switch.</div>
                            </div>
                        </div>

                        <div class="step-content">
                            <h3>Let there be light!</h3>
                            
                            <div class="step-prompt">
                                Can you make it work with the fewest parts?
                            </div>

                            <div class="step-widget" id="circuitsWidget">
                                <div class="circuit-workspace">
                                    <div class="circuit-grid" id="circuitGrid">
                                        <!-- Grid will be generated by JavaScript -->
                                    </div>
                                    
                                    <div class="circuit-feedback">
                                        <div class="lamp-indicator" id="lampIndicator">💡</div>
                                        <div class="feedback-text" id="circuitFeedback">Drag components to build your circuit</div>
                                    </div>
                                </div>

                                <div class="components-tray">
                                    <h4>Components</h4>
                                    <div class="component-list">
                                        <div class="component draggable" data-component="battery">
                                            <span class="component-icon">🔋</span>
                                            <span class="component-name">Battery</span>
                                        </div>
                                        <div class="component draggable" data-component="wire">
                                            <span class="component-icon">➖</span>
                                            <span class="component-name">Wire</span>
                                        </div>
                                        <div class="component draggable" data-component="lamp">
                                            <span class="component-icon">💡</span>
                                            <span class="component-name">Lamp</span>
                                        </div>
                                        <div class="component draggable" data-component="switch">
                                            <span class="component-icon">🔘</span>
                                            <span class="component-name">Switch</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="step-actions">
                            <button class="btn btn-accent" id="screenshotCircuitBtn">Screenshot to Journal</button>
                            <button class="btn btn-secondary" id="resetCircuitBtn">Reset Circuit</button>
                        </div>

                        <div class="offline-activity">
                            <h4>Offline Activity</h4>
                            <p>Use kit to make the same circuit. Safety first.</p>
                        </div>
                    </article>

                    <!-- More steps would continue here... -->
                    <!-- For brevity, I'll add the design step (#7) as it's key -->

                    <!-- Step 7: Design a Future-Ready Home -->
                    <article class="learning-step" id="design">
                        <div class="step-header">
                            <div class="step-badge">Step 7</div>
                            <div class="step-meta">
                                <h2 class="step-title">Design a Future-Ready Home</h2>
                                <div class="step-time">⏱️ 40–60 min</div>
                                <div class="step-goal">Learning goal: Change one design variable and explain the impact.</div>
                            </div>
                        </div>

                        <div class="step-content">
                            <h3>Design, test, improve</h3>
                            
                            <div class="step-prompt">
                                Toggle shade, vents, materials. What changes?
                            </div>

                            <div class="step-widget" id="designTester">
                                <div class="design-controls">
                                    <h4>House Features</h4>
                                    <div class="feature-toggles">
                                        <div class="toggle-group">
                                            <label class="toggle-label">
                                                <input type="checkbox" class="feature-toggle" data-feature="shade">
                                                <span class="toggle-slider"></span>
                                                <span class="toggle-text">Shade (trees/awnings)</span>
                                            </label>
                                        </div>
                                        <div class="toggle-group">
                                            <label class="toggle-label">
                                                <input type="checkbox" class="feature-toggle" data-feature="ventilation">
                                                <span class="toggle-slider"></span>
                                                <span class="toggle-text">Ventilation</span>
                                            </label>
                                        </div>
                                        <div class="toggle-group">
                                            <label class="toggle-label">
                                                <input type="checkbox" class="feature-toggle" data-feature="insulation">
                                                <span class="toggle-slider"></span>
                                                <span class="toggle-text">Insulation</span>
                                            </label>
                                        </div>
                                        <div class="toggle-group">
                                            <label class="toggle-label">
                                                <input type="checkbox" class="feature-toggle" data-feature="raised-floor">
                                                <span class="toggle-slider"></span>
                                                <span class="toggle-text">Raised floor</span>
                                            </label>
                                        </div>
                                        <div class="toggle-group">
                                            <label class="toggle-label">
                                                <input type="checkbox" class="feature-toggle" data-feature="rainwater">
                                                <span class="toggle-slider"></span>
                                                <span class="toggle-text">Rainwater tank</span>
                                            </label>
                                        </div>
                                        <div class="toggle-group">
                                            <label class="toggle-label">
                                                <input type="checkbox" class="feature-toggle" data-feature="solar">
                                                <span class="toggle-slider"></span>
                                                <span class="toggle-text">Solar panels</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="design-feedback">
                                    <div class="feedback-meters">
                                        <div class="meter">
                                            <h5>Heat Level</h5>
                                            <div class="meter-bar">
                                                <div class="meter-fill heat-meter" style="width: 50%"></div>
                                            </div>
                                            <div class="meter-labels">
                                                <span>Cooler</span>
                                                <span>Hotter</span>
                                            </div>
                                        </div>
                                        <div class="meter">
                                            <h5>Water Safety</h5>
                                            <div class="meter-bar">
                                                <div class="meter-fill water-meter" style="width: 50%"></div>
                                            </div>
                                            <div class="meter-labels">
                                                <span>Drier</span>
                                                <span>Flood-safe</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="feedback-text" id="designFeedback">
                                        Select features to see how they affect your home.
                                    </div>
                                </div>

                                <div class="design-export">
                                    <h4>My Design Summary</h4>
                                    <textarea id="designReason" placeholder="Explain why you chose these features..." rows="3"></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="step-actions">
                            <button class="btn btn-primary" id="exportDesignBtn">Export design summary</button>
                        </div>

                        <div class="offline-activity">
                            <h4>Offline Activity</h4>
                            <p>Model-making: build your home from recycled materials; label features.</p>
                        </div>
                    </article>

                </div>

                <!-- Check-in Sidebar -->
                <aside class="checkin-sidebar">
                    <div class="checkin-title">Check-in point</div>
                    <div class="checkin-content" id="checkinContent">
                        Ask: What's one similarity and one difference between your two places?
                    </div>
                    <div class="checkin-tip">
                        💡 Share your thoughts with a partner or teacher
                    </div>
                </aside>

            </div>
        </div>
    </main>

    <!-- Glossary Modal -->
    <div id="glossaryModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" aria-label="Close">&times;</button>
            <h3 id="glossaryTerm"></h3>
            <p id="glossaryDefinition"></p>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-links">
                <a href="#safety">Safety & Privacy</a>
                <a href="#permissions">Image Permissions</a>
                <a href="#report" class="teacher-only">Report a Concern</a>
                <a href="#credits">Credits</a>
            </div>
            <div class="language-toggle">
                <button class="lang-btn active" data-lang="en">EN</button>
                <button class="lang-btn" data-lang="zh">简</button>
                <button class="lang-btn" data-lang="ms">BM</button>
            </div>
        </div>
    </footer>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Scripts -->
    <script src="js/progress.js"></script>
    <script src="js/journal.js"></script>
    <script src="js/badges.js"></script>
    <script src="js/app.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/learn-page.js"></script>
</body>
</html>
